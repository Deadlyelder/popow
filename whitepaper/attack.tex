\section{Attacking the proofs of proof-of-work construction}

Interactive proofs of proof-of-work were explored in \cite{KLS}. In this
section, we revisit their construction and its security. First, we describe their construction. Understanding their construction will be helpful in eventually
constructing non-interactive proofs of proof-of-work that are secure. Then, we
show that a powerful attacker can break chain superquality with non-negligible
probability and we construct a concrete attack based on it.

illustrate
that their proof of security is incorrect and is based on faulty underlying
assumptions. Second, we show that their protocol is actually insecure by
constructing a concrete attack against their scheme. To construct this attack,
we first need to define certain additional chain quality properties and first
explore a simpler attack. We later extend that simpler attack into a full attack
which allows double spending.

\subsection{The (broken) security of the proofs of proof-of-work construction}

In their construction, Kiayias et. al. \cite{KLS} create an interactive proof of
proof-of-work by allowing a verifier to interactively communicate with two
provers $\mathcal{A}$ and $B$. The verifier queries the two provers for their
claimed anchored superchains $\pi_\mathcal{A}[\mu]$ and $\pi_B[\mu]$ of a
certain level $\mu$. The verifier starts querying at the highest possible level
$\mu$ and successively descends until level $\mu$ is sufficiently low such that
the lowest common ancestor block $b = (\pi_\mathcal{A}[\mu] \cap
\pi_B[\mu])[-1]$ of the two provers' $\mu$-superchains is $m$ blocks deep for at
least one of the provers. More specifically, the querying stops at such $\mu$
when $max(|\pi_\mathcal{A}[\mu]\{b:\}|, |\pi_B[\mu]\{b:\}|) > m$ holds.
Subsequently, the winner is designated as the prover with the most blocks after
$b$ at that level. More precisely, the winner is $\mathcal{A}$ if
$|\pi_\mathcal{A}[\mu]\{b:\}| \geq |\pi_B[\mu]\{b:\}|)$ and otherwise it is $B$.

Suppose now $B$ is honest and $\mathcal{A}$ is the adversary and suppose $b$ was
honestly generated at round $r$, while the proof $\pi_B[\mu]$ was honestly
generated at some round $r'$. Their security argument then is the following.
Given that there are at least $m$ blocks in the adversarial $\mu$-superchain
following $b$, we can deduce that the number of rounds $r' - r$ will be
sufficiently large by applying a negative binomial distribution tail bound. Call
that range of rounds $S$. Observe now that the number of $\mu$-superblocks
generated by the honest parties during $|S|$ follows a binomial distribution.
Similarly, the number of adversarially generated $\mu$-superblocks also follows
a binomial distribution. By applying the honest majority assumption
\cite{backbone}, we observe that these two distributions have a gap in their
expectations. Applying a Chernoff bound to both (which is valid due to $|S|$
being sufficiently large), we deduce that the number of $\mu$-superblocks
generated by the honest parties during $S$ exceeds the number of
$\mu$-superblocks generated adversarially during $S$. This is correct so far and
concludes their proof.

Nevertheless, we observe that the mere fact that there have been more honestly-
than adversarially-generated $\mu$-superblocks after $b$ does not imply that
$|\pi_\mathcal{A}[\mu]\{b:\}| \leq |\pi_B[\mu]\{b:\}|)$. The reason is that some
of these superblocks could belong to blocktree forks that have been abandoned by
$B$. Thus, we conclude that their reasoning is invalid.

Regardless, their basic argument and construction is what will use as a basis
for constructing a system that is both provably secure and succinct under the
same assumptions, albeit requiring a more complicated proof structure to obtain
security.

We now explore how the mistake in the proof can be leveraged to obtain a concrete attack.

\subsection{Attacking superquality}

If the adversary wishes to attack the superquality of an honestly adopted chain,
a concrete attack to achieve this would work as follows.

??

\subsection{Breaking interactive proofs}

??
