\begin{algorithm}[H]
    \caption{\label{alg.nipopow-prover}The \textsf{Prove} algorithm
    for the NIPoPoW protocol}
    \begin{algorithmic}[1]
        \Function{\sf Prove$_{m,k}$}{$\chain$}
            \Let{\mu}{|\chain[-k].\mathsf{interlink}|}
            \Let{B}{\chain[0]}
            \Comment{Genesis block}
            \Let{\overline\pi[\mu]}{\chain[:-k]\upchain^\mu}
            \Let{\tilde\pi}{\overline\pi[\mu]}
            \While{$\mu > 0$}
                \If{$\textnormal{good}_{\delta, m}(\chain, \overline\pi[\mu], \mu)$}
                    \Let{B}{\overline\pi[\mu][-m]}
                \EndIf
                \Let{\mu}{\mu - 1}
                \Let{\overline\pi[\mu]}{\chain[:-k]\{B:\}\upchain^\mu}
                \Let{\tilde\pi}{\tilde\pi \cup \overline\pi[\mu]}
            \EndWhile
            \Let{\chi}{\chain[-k:]}
            \State\Return{($\tilde\pi, \chi$)}
        \EndFunction
    \vskip8pt
    \end{algorithmic}
\end{algorithm}
